<div class="container">
  <!-- Хедер -->
  <div>
    <h1 class="page-title">Устройства</h1>
    <p class="page-subtitle">Выберите устройство, чтобы посмотреть статистику сессий.</p>
  </div>

  <!-- Основная панель -->
  <div class="panel">
    <!-- Действия -->
    <div class="actions">
      <button class="btn" type="button" (click)="load()" [disabled]="isLoading">
        Обновить
      </button>

      <button class="btn" type="button" (click)="downloadBackup()" [disabled]="isDownloadingBackup">
        {{ isDownloadingBackup ? 'Сохранение…' : 'Сохранить данные' }}
      </button>
    </div>

    <!-- Состояние загрузки -->
    <div *ngIf="isLoading" class="loading">
      Загрузка…
    </div>

    <!-- Ошибка -->
    <div *ngIf="error" class="error">
      {{ error }}
    </div>

    <!-- Успех бэкапа -->
    <div *ngIf="backupSuccess" class="success">
      {{ backupSuccess }}
    </div>

    <!-- Контент -->
    <div *ngIf="!isLoading && !error">
      <!-- Пустое состояние -->
      <div *ngIf="noDevices" class="empty">
        Пока нет устройств.
      </div>

      <!-- Список устройств -->
      <ul *ngIf="hasDevices" class="list">
        <li *ngFor="let d of devices" class="list-item">
          <a class="device-link" [routerLink]="['/devices', d.id]">
            <div class="device-main">
              <div class="device-name">{{ d.name || '(без имени)' }}</div>
              <div class="device-id">{{ d.id }}</div>
            </div>
            <span class="device-chevron">›</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
